var noticias = [
  {
    fecha: "01 de julio de 2024",
    area: "Turismo",
    titulo: "🍷¡Cada vez falta menos para la Fiesta del Vino de la Costa!",
    descripcion: "Te esperamos los días 5, 6 y 7 de julio en la 21° Fiesta del Vino de la Costa. <br><br>📍Gimnasio Municipal (9 y 169) <br>👉🏻 Entrada libre y gratuita",
    imagen: "images/noticias/turismo/tur01-07-2024.jpg",
    link:"https://www.instagram.com/reel/C84p5pdx2_T/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "30 de junio de 2024",
    area: "Turismo",
    titulo: "🏃🏻13° Edición de la Carrera de Cross Aventura",
    descripcion: "🍷En el marco de la 21º Fiesta del Vino de la Costa, se realizó la 13º Carrera de Cross Aventura que tuvo una extensión de 8 y 4 kilómetros.",
    imagen: "images/noticias/turismo/tur30-06-2024.jpg",
    link:"https://www.instagram.com/p/C82qHJuB2ks/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "26 de junio de 2024",
    area: "Turismo",
    titulo: "🍷¡Cada vez falta menos para la Fiesta del Vino de la Costa!",
    descripcion: "Te esperamos los días 5, 6 y 7 de julio en la 21° Fiesta del Vino de la Costa. <br><br> 📍Gimnasio Municipal (9 y 169) <br>👉🏻 Entrada libre y gratuita",
    imagen: "images/noticias/turismo/tur26-06-24.jpg",
    link:"https://www.instagram.com/p/C8rizO2x7fH/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "20 de junio de 2024",
    area: "Agraria",
    titulo: "CAPACITACIÓN CULTIVO DE AROMÁTICAS Y MEDICINALES🌷",
    descripcion: "🌷El pasado miércoles 19 de junio, se llevó adelante la capacitación de cultivo de aromáticas y medicinales.",
    imagen: "images/noticias/agraria/agr19-06-24.jpeg",
    link:"https://www.instagram.com/p/C8re31XxbN5/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "20 de junio de 2024",
    area: "Turismo",
    titulo: "🏃🏻‍♀️🏃🏻‍♂️Carrera Cross Aventura de la Fiesta del Vino",
    descripcion: "🗓️Domingo 30 de junio <br>🕣Largada 9 hs. <br> 📍Sede de la Cooperativa de la Costa en calle Bagliardi (a 100 metros de Avenida Montevideo) <br>👉🏻Propuesta arancelada",
    imagen: "images/noticias/turismo/tur20-06-24.jpg",
    link:"https://www.instagram.com/p/C8VGycIhBeN/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  
  {
    fecha: "18 de junio de 2024",
    area: "Empleo",
    titulo: "Cursos para población del Fomentar Empleo",
    descripcion: "💻Inscripciones: portalempleo/cursos <br><br> 👉🏻Más Info en la Oficina de Empleo <br><br> 🗓️De lunes a viernes de 8:30 a 13:30 hs.<br>📍Av. Montevideo y 2, 2do piso.<br>📲 464-5010",
    imagen: "images/noticias/empleo/emp18-06.jpg",
    link:"https://www.instagram.com/p/C8XUpLfRK_Y/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "15 de junio de 2024",
    area: "Agraria",
    titulo: "CAPACITACIÓN CULTIVO DE AROMÁTICAS Y MEDICINALES🌷",
    descripcion: "🌸Esta capacitación es organizada por la Dirección de Asuntos Agrarios perteneciente a la Secretaría de Producción, en conjunto con la Dirección de Horticultura, Fruticultura y Floricultura del MDA.",
    imagen: "images/noticias/agraria/agr15-06.jpg",
    link:"https://www.instagram.com/p/C8NQ8Xyxvj4/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "14 de junio de 2024",
    area: "Agraria",
    titulo: "✍🏻Firma de Convenio con el INTA",
    descripcion: "✅Hoy se realizó la firma de convenio entre el Municipio y el Instituto Nacional de Tecnología Agropecuaria, donde participaron el intendente Fabián Cagliardi, el director del INTA, Ariel Pereda, y la secretaria de Producción, Cecilia Paris.",
    imagen: "images/noticias/agraria/agr13-06-24.jpg",
    link:"https://www.instagram.com/p/C8M0Ul2RQVR/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "05 de junio de 2024",
    area: "Turismo",
    titulo: "21° Fiesta del Vino 🍷",
    descripcion: "🍇Falta tan solo un mes para que puedas disfrutar de la 21° Fiesta del Vino 🍷 <br> 👉🏻Agéndate! 5, 6 y 7 de julio en el Gimnasio Municipal de Berisso. <br><br> ¡Te esperamos!",
    imagen: "images/noticias/turismo/fiestaDelVino2024.png",
    link:"https://www.instagram.com/reel/C71qOwnRUQ4/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "05 de junio de 2024",
    area: "Agraria",
    titulo: "JURA POR EL AMBIENTE 🌎♻️",
    descripcion: "👉🏼El pasado Miércoles 5 de Junio, la Dirección de Asuntos Agrarios perteneciente a la Secretaría de Producción, participó de la actividad que organizó la Secretaría de Ambiente de la Municipalidad de La Plata en el programa de “Jura por el ambiente”.",
    imagen: "images/noticias/agraria/agr05-06.jpg",
    link:"https://www.instagram.com/p/C8ClgynRBbj/?igsh=MWt2YjB6NXFlbzZxNQ=="
  },
  {
    fecha: "20 de mayo de 2024",
    area: "Agraria",
    titulo: "Día internacional de la Miel: se desarrolló una charla sobre los apicultores",
    descripcion: "Desde el Ministerio de Desarrollo Agrario y la dirección de agricultura de nuestra ciudad, en el marco del día internacional de la miel, siendo el 20 de mayo, conocido también como día internacional de las abejas, se realizaron durante la mañana y mediodía de este viernes, en el Playón municipal (Av. Montevideo y 11)  una charla sobre la importancia de la apicultura, con el fin de acercar a los productores locales aquellas actividades y propuesta por parte del ministerio hacia los productores locales y vecinos, donde también se realizó venta y degustación de productos.",
    imagen: "images/noticias/agraria/agr24-05.jpg",
    link:"https://www.berissociudad.com.ar/Dia-internacional-de-la-Miel-se-desarrollo-una-charla-sobre-los-apicultores-396580"
  },
  {
    fecha: "20 de mayo de 2024",
    area: "Industria",
    titulo: "Cecilia Paris: “Trabajamos para volver a un Berisso que todos lo conozcan por el trabajo y la producción”",
    descripcion: "La secretaria de Producción Municipal, Cecilia Paris dialogó con FM Berisso Ciudad 88.5 sobre los trabajos que lleva adelante el área.",
    imagen: "images/noticia.png",
    link:"https://www.berissociudad.com.ar/Cecilia-Paris-Trabajamos-para-volver-a-un-Berisso-que-todos-los-conozcan-por-el-trabajo-y-la-produccion-396542"
  },
  {
    fecha: "16 de mayo de 2024",
    area: "Turismo",
    titulo: "AGENDA TURÍSTICA DEL FINDE 🏛️🏖️🎣🚤",
    descripcion: "Les compartimos las actividades que pueden realizar en la ciudad para disfrutar este finde🤩",
    imagen: "images/noticias/turismo/finde16-5-24.jpg",
    link:"https://www.instagram.com/p/C7DDEdgMCrL/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "10 de mayo de 2024",
    area: "Industria",
    titulo: "La dirección de Industria llevó adelante una capacitación sobre el fortalecimiento de políticas ambientales",
    descripcion: "Desde la Dirección de Industria de la Municipalidad de Berisso, en la tarde de este viernes llevaron adelante una capacitación sobre programas de fortalecimiento en políticas ambientales el cual tuvo lugar en el Quincho Municipal, dicha capacitación surge desde la dirección de industria a través de los programas brindados por el ministerio de ambiente de la Provincia de Buenos aires en cuanto a programas de políticas ambientales.",
    imagen: "images/noticias/industria/ind10-05.jpg",
    link:"https://www.berissociudad.com.ar/Maria-Jose-Munoz-llevo-adelante-una-capacitacion-sobre-el-fortalecimiento-de-politicas-ambientales-396458"
  },
  {
    fecha: "10 de mayo de 2024",
    area: "Agraria",
    titulo: "🍎🍊🍋Capacitación en poda de frutales teórica y práctica con los frutales del vivero municipal🍋🍊🍎",
    descripcion: "👩🏻‍🌾👨🏻‍🌾Participaron productores que recibieron material frutícola por medio del programa FOMENTO A LA FRUTICULTURA BONAERENSE del MDA. Como así también alumnos de la Escuela Agraria y técnicos del vivero municipal.",
    imagen: "images/noticias/agraria/agraria10-05-2024.jpg",
    link:"https://www.instagram.com/p/C6y01PBLhqn/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "09 de mayo de 2024",
    area: "Turismo",
    titulo: "☀️Descubrí Berisso: Nueva York Peatonal",
    descripcion: "👉🏻Hoy se realizó la primer propuesta de “Nueva York Peatonal”, en la histórica calle de Berisso, organizada por @turismoberisso , junto a comerciantes y vecinos del barrio.",
    imagen: "images/noticias/turismo/peatonalNY9-5-24.jpg",
    link:"https://www.instagram.com/p/C6mmZagr_0p/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "8 de mayo de 2024",
    area: "Empleo",
    titulo: "Incorporación de egresados de Operador de Fibra Óptica a CLARO",
    descripcion: "👉🏼La Secretaria de Producción, junto al Coordinador de Empleo y el Director del @cfl404berisso recibieron a representantes de la empresa CLARO, quienes se mostraron interesados en incorporar a la mencionada Empresa a egresados y egresadas del curso de Fibra Óptica.",
    imagen: "images/noticias/empleo/empleo08-05-2024.jpg",
    link:"https://www.instagram.com/p/C6ugjGIt_Fr/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "25 de abril de 2024",
    area: "Empleo",
    titulo: "Volver al Trabajo",
    descripcion: "👉🏼Si sos beneficiario/a del Programa Potenciar Trabajo, acércate a la Oficina de Empleo para asesorarte y registrarte en el nuevo Portal Empleo.",
    imagen: "images/noticias/empleo/empleo25-04-2024.jpg",
    link:"https://www.instagram.com/p/C6M9ic5r02s/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  },
  {
    fecha: "25 de abril de 2024",
    area: "U.Productivas",
    titulo: "✅¡Mercados Bonaerenses todas las semanas!",
    descripcion: "👉🏻A partir del lunes 29 de abril, vas a poder encontrar en diferentes puntos de la ciudad los “Mercados Bonaerenses”.🥬Podrán acceder a diferentes productos a precios populares y con el beneficio de Cuenta DNI.🌧️Se suspende por lluvia.",
    imagen: "images/noticias/Unid.Productivas/UProd25-04-2024.jpg",
    link:"https://www.instagram.com/p/C6MDwo5r8Z9/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
  }
];

// Variables globales para la paginación
let currentPage = 1;
const itemsPerPage = 5;
let noticiasFiltradas = [];

// Función para generar dinámicamente el HTML de una noticia
function crearNoticiaHTML(noticia) {
  return `
    <div class="noticia ${noticia.area.toLowerCase()}">
      <div class="imagen-not">
        <img src="${noticia.imagen}" alt="Imagen de la noticia">
      </div>
      <div class="contenido-not">
        <span class="fecha-not">${noticia.fecha}</span>
        <span class="area">${noticia.area}</span>
        <h2 class="titulo-not">${noticia.titulo}</h2>
        <p class="descripcion-not">${noticia.descripcion}</p><br>
        <a href="${noticia.link}" target=_blank>Leer más...<a>
      </div>
    </div>
  `;
}

// Función para agregar las noticias al contenedor con paginación
function agregarNoticias(page = 1) {
  const noticiasContainer = document.getElementById("noticias-container");
  noticiasContainer.innerHTML = ""; // Limpiar contenedor antes de agregar las noticias

  const start = (page - 1) * itemsPerPage;
  const end = start + itemsPerPage;
  const noticiasPagina = noticiasFiltradas.slice(start, end);

  noticiasPagina.forEach(noticia => {
    noticiasContainer.innerHTML += crearNoticiaHTML(noticia);
  });

  // Actualizar la información de paginación
  const pageInfo = document.getElementById("pageInfo");
  pageInfo.textContent = `Página ${page} de ${Math.ceil(noticiasFiltradas.length / itemsPerPage)}`;
  document.getElementById("prevPage").disabled = page === 1;
  document.getElementById("nextPage").disabled = end >= noticiasFiltradas.length;
}

// Función para filtrar las noticias por área
function filtrarPorArea(area) {
  noticiasFiltradas = noticias;

  if (area !== '') {
    noticiasFiltradas = noticiasFiltradas.filter(noticia => noticia.area.toLowerCase() === area.toLowerCase());
  }

  currentPage = 1;
  agregarNoticias(currentPage);

  // Agregar clase activa al botón seleccionado y quitarla de los demás
  const buttons = document.querySelectorAll('.filter-buttons button');
  buttons.forEach(button => {
    button.classList.remove('active');
  });
  const activeButton = document.querySelector(`.filter-buttons button[data-area="${area}"]`);
  if (activeButton) {
    activeButton.classList.add('active');
  }
}

// Función para filtrar noticias por palabra clave
function filtrarPorPalabra() {
  const keyword = document.getElementById("keyword-input").value.toLowerCase();
  noticiasFiltradas = noticias.filter(noticia => {
    const titulo = noticia.titulo.toLowerCase();
    const descripcion = noticia.descripcion.toLowerCase();
    return titulo.includes(keyword) || descripcion.includes(keyword);
  });

  currentPage = 1;
  agregarNoticias(currentPage);

  if (noticiasFiltradas.length === 0) {
    alert("No se encontraron noticias que coincidan con la palabra clave ingresada.");
  }
}

// Manejadores de eventos para la paginación
document.getElementById("prevPage").addEventListener('click', () => {
  if (currentPage > 1) {
    currentPage--;
    agregarNoticias(currentPage);
  }
});

document.getElementById("nextPage").addEventListener('click', () => {
  if (currentPage * itemsPerPage < noticiasFiltradas.length) {
    currentPage++;
    agregarNoticias(currentPage);
  }
});

// Llamar a la función para agregar las noticias inicialmente
noticiasFiltradas = noticias;
agregarNoticias(currentPage);
